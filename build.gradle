apply plugin: 'groovy'
apply plugin: "c"

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.1.7'
    compile 'net.java.dev.jna:jna:4.0.0'

    testCompile 'org.spockframework:spock-core:0.7-groovy-2.0'
}

libraries {
    GroovyCGradle {}
} 

sources.main.c.lib libraries.GroovyCGradle

test {
    it.dependsOn 'groovyCGradleSharedLibrary'
    environment 'LD_LIBRARY_PATH', 'build/binaries/GroovyCGradleSharedLibrary/'
}